{
    "version": 2,
    "buildCommand": "pnpm run build",
    "outputDirectory": "dist/public",
    "builds": [
          {
                  "src": "api/index.ts",
                  "use": "@vercel/node"
          },
          {
                  "src": "package.json",
                  "use": "@vercel/static-build",
                  "config": {
                            "distDir": "dist/public"
                  }
          }
    ],
    "routes": [
          {
                  "src": "/api/oauth/.*",
                  "dest": "/api/index.ts"
          },
          {
                  "src": "/api/trpc/.*",
                  "dest": "/api/index.ts"
          },
          {
                  "src": "/dist/public/.*",
                  "dest": "/dist/public/$1"
          },
          {
                  "src": "/(.*)",
                  "dest": "/dist/public/index.html"
          }
    ]
}
